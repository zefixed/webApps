{% extends 'base.html' %}

{% block content %}
<h1 class="mt-4">{{post.title}}</h1>
<div class="">{{post.author}}, {{post.date.day}}.{{post.date.month}}.{{post.date.year}}</div>
<div class="d-flex justify-content-center py-3">
    <img class="post-image w-75 rounded" src="{{ url_for('static', filename='images/' + post.image_id) }}"
        alt="Post image">
</div>
<div class="my-3">{{post.text}}</div>
<div class="border rounded mb-3">
    <form>
        <div class="mx-3 mt-2">
            Оставьте комментарий
        </div>
        <hr />
        <div class="m-3">
            <div class="mb-3">
                <textarea class="form-control" id="FormControlTextarea" rows="3"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Отправить</button>
        </div>
    </form>
</div>
{% for comment in post.comments %}
<div class="d-flex flex-row mb-3">
    <i class="fa-solid fa-circle-user fa-3x"></i>
    <div class="d-flex flex-column ms-3">
        <div class="fw-bold mb-2">{{comment.author}}</div>
        <div class=""> {{comment.text}}</div>
    </div>
</div>
{% for reply in comment.replies %}
<div class="d-flex flex-row mb-3 inner-comment">
    <i class="fa-solid fa-circle-user fa-3x"></i>
    <div class="d-flex flex-column ms-3">
        <div class="fw-bold mb-2">{{reply.author}}</div>
        <div class=""> {{reply.text}}</div>
    </div>
</div>
{% endfor %}
{% endfor %}
{% endblock %}